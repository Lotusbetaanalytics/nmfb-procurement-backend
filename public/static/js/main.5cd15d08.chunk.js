(this.webpackJsonpnirsalprocurement=this.webpackJsonpnirsalprocurement||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},142:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(18),r=n.n(s),c=(n(107),n(25)),i=n(7),o=(n(108),n(63)),l=n.n(o),u=n(62),d=n(61),j=n(8),p=n.p+"static/media/logo.5c5475d0.png",b=n(9),O=n.n(b),f=n(20),v=n(21),g=n.n(v),h="USER_AUTH_REQUEST",x="USER_AUTH_SUCCESS",m="USER_AUTH_FAIL",E="USER_AUTH_RESET",_="USER_PROFILE_REQUEST",y="USER_PROFILE_SUCCESS",S="USER_PROFILE_FAIL",C="USER_PROFILE_RESET",R=n(3),T=function(){var e=Object(j.b)(),t=Object(i.f)(),n=Object(u.a)(),s=Object(j.c)((function(e){return e.userLogin})),r=s.userInfo,c=s.error,o=s.loading;return Object(a.useEffect)((function(){r&&t("/app/config")}),[t,r]),c&&(n({title:"Error",description:c,status:"error",duration:9e3,isClosable:!0}),e({type:E})),Object(R.jsxs)("div",{className:"landingPageContainer",children:[Object(R.jsx)("div",{className:"landingLogo",children:Object(R.jsx)("img",{src:p,alt:"logo"})}),Object(R.jsxs)("div",{className:"landingContent",children:[Object(R.jsx)("span",{children:"Welcome to"}),Object(R.jsxs)("h1",{children:["The Procurement ",Object(R.jsx)("br",{}),"Portal"]}),o?Object(R.jsx)(d.a,{isIndeterminate:!0,color:"#FFFFFF"}):Object(R.jsx)(l.a,{clientId:"fef75ba3-3281-4d23-9f7b-b5df41c77caa",authCallback:function(t,a,s){if(t&&(n({title:"Error",description:t.message,status:"error",duration:9e3,isClosable:!0}),sessionStorage.clear()),a){var r=a.accessToken;e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(n,a){var s,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:h}),s={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},t.next=5,g.a.post("/api/v1/auth",{accessToken:e},s);case 5:r=t.sent,c=r.data,n({type:x,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:m,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(r)),sessionStorage.clear()}}})]})]})},N=n(42),I=n(31),A=n.n(I),U=function(){var e=Object(j.b)(),t=Object(i.f)(),n=Object(j.c)((function(e){return e.userProfile})).user,s=void 0===n?{}:n;console.log(s),Object(a.useEffect)((function(){e(function(){var e=Object(f.a)(O.a.mark((function e(t,n){var a,s,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),a=n(),s=a.userLogin.userInfo,r={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(s.token)}},e.next=6,g.a.get("/api/v1/auth",r);case 6:c=e.sent,i=c.data,t({type:y,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:S,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())}),[e]);return Object(R.jsxs)("div",{className:A.a.navigation,children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:A.a.logo,children:Object(R.jsx)("img",{src:p,alt:"Nirsal Procurement"})}),Object(R.jsxs)("div",{className:A.a.name,children:[Object(R.jsxs)("h3",{children:["Hi ",s.fullname,"!"]}),Object(R.jsx)("p",{children:"It's nice seeing you again"})]}),Object(R.jsx)("div",{className:A.a.links,children:Object(R.jsx)("ul",{children:F.url.admin.map((function(e,t){return Object(R.jsx)("li",{children:Object(R.jsxs)(c.b,{to:e.path,children:[Object(R.jsx)(e.Icon,{}),e.name]})},t)}))})})]}),Object(R.jsx)("div",{className:A.a.links,children:Object(R.jsx)("ul",{children:Object(R.jsx)("li",{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:E})})),t("/")},children:Object(R.jsxs)(c.b,{to:"/#",children:[Object(R.jsx)(N.a,{})," Logout"]})})})})]})},L=n(36),F={url:{admin:[{name:"Configurations",path:"/app/config",Icon:L.b}],hop:[{name:"Dashboard",path:"/app/dashboard",Icon:L.d},{name:"Projects",path:"/app/projects",Icon:L.a},{name:"Projects Folder",path:"/app/projects/folder",Icon:L.c}]}},w=n(67),k=n.n(w),P=function(e){var t=e.title,n=e.count;return Object(R.jsxs)("div",{className:k.a.card,children:[Object(R.jsx)("h3",{children:t}),Object(R.jsx)("p",{children:n})]})},D=n(11),q=n(44),Q=n.n(q),H=function(e){var t=e.title,n=Object(a.useState)(""),s=Object(D.a)(n,2),r=s[0],c=s[1];return Object(R.jsxs)("div",{className:Q.a.pageTitle,children:[Object(R.jsx)("div",{className:Q.a.title,children:t}),Object(R.jsxs)("div",{className:Q.a.search,children:[Object(R.jsx)("input",{type:"text",placeholder:"Search",value:r,onChange:function(e){return c(e.target.value)}}),Object(R.jsx)(N.b,{})]})]})},z=n(45),B=n.n(z),J=function(e){var t=e.menu,n=void 0===t?[]:t;return Object(R.jsx)("div",{className:B.a.menubar,children:n.map((function(e){return Object(R.jsx)(c.b,{to:e.url,className:"".concat(B.a.menu," ").concat(e.active&&B.a.active),children:e.name})}))})},G=function(e){var t=e.onChange,n=e.value,a=e.type,s=e.title,r=e.readOnly,c=void 0!==r&&r,i=e.required,o=void 0!==i&&i,l=e.onBlur,u=void 0===l?null:l,d=e.size,j=void 0===d?"medium":d;return Object(R.jsxs)("div",{className:"nirsal__InputContainer ".concat(j),children:[Object(R.jsx)("label",{children:s}),Object(R.jsx)("input",{type:a,onChange:t,value:n,placeholder:s,readOnly:c,required:o,onBlur:u})]})},V=function(e){var t=e.onChange,n=e.value,a=e.title,s=e.data,r=e.readOnly,c=void 0!==r&&r,i=e.required,o=void 0!==i&&i,l=e.filter,u=void 0===l?"":l,d=e.filterValue,j=void 0===d?"":d,p=e.secondaryFilter,b=void 0===p?"":p,O=e.secondaryValue,f=void 0===O?"":O,v=e.concat,g=void 0===v?"":v,h=e.size,x=void 0===h?"medium":h;return Object(R.jsxs)("div",{className:"nirsal__InputContainer ".concat(x),children:[Object(R.jsx)("label",{children:a}),Object(R.jsxs)("select",{onChange:t,value:n,readOnly:c,required:o,children:[" ",Object(R.jsx)("option",{value:"",disabled:!0,children:a}),s&&s.map((function(e,t){return u?Object(R.jsx)("option",{value:f?e[f]:e[j],children:b?e[u][b]+" "+e[u][g]:e[u]},t):Object(R.jsx)("option",{value:e.value,children:e.value},t)}))]})]})},W=function(e){var t=e.onClick,n=e.type,a=void 0===n?"submit":n,s=e.title,r=e.disabled,c=void 0!==r&&r,i=e.loading,o=void 0!==i&&i,l=e.isFullWidth,u=void 0!==l&&l,d=e.size,j=void 0===d?"medium":d,p=e.Icon,b=e.color,O=void 0===b?"lightGreen":b;return Object(R.jsx)("div",{className:u?"nirsal__InputContainer ".concat(j):"btnContainer ".concat(j),children:Object(R.jsxs)("button",{type:a,onClick:t,disabled:c||o,className:"btn ".concat(O),children:[s," ",p&&Object(R.jsx)(p,{})," ",o&&Object(R.jsx)("span",{className:"loading"})]})})},M=(n(142),function(){return Object(R.jsxs)("div",{className:"appContainer",children:[Object(R.jsx)(U,{}),Object(R.jsxs)("div",{className:"contentsRight",children:[Object(R.jsx)(H,{title:"Dashboard"}),Object(R.jsxs)("div",{className:"cardFlex",children:[Object(R.jsx)(P,{title:"Total Number of Roles",count:10}),Object(R.jsx)(P,{title:"Front Office",count:10}),Object(R.jsx)(P,{title:"Origination Team",count:10}),Object(R.jsx)(P,{title:"Evaluation Team",count:10}),Object(R.jsx)(P,{title:"Contract Team",count:10})]})]})]})}),Y=n(30),K="CREATE_ROLES_REQUEST",X="CREATE_ROLES_SUCCESS",Z="CREATE_ROLES_FAIL",$="CREATE_ROLES_RESET",ee="GET_ROLES_REQUEST",te="GET_ROLES_SUCCESS",ne="GET_ROLES_FAIL",ae="UPDATE_ROLES_REQUEST",se="UPDATE_ROLES_SUCCESS",re="UPDATE_ROLES_FAIL",ce="UPDATE_ROLES_RESET",ie="DELETE_ROLES_REQUEST",oe="DELETE_ROLES_SUCCESS",le="DELETE_ROLES_FAIL",ue="DELETE_ROLES_RESET",de=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(n,a){var s,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:K}),s={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},t.next=5,g.a.post("/api/v1/role",{title:e},s);case 5:r=t.sent,c=r.data,n({type:X,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:Z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},je=function(){return function(){var e=Object(f.a)(O.a.mark((function e(t,n){var a,s,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ee}),a={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},e.next=5,g.a.get("/api/v1/role",a);case 5:s=e.sent,r=s.data,t({type:te,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:ne,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},pe=function(){var e=Object(j.b)(),t=Object(u.a)(),n=Object(j.c)((function(e){return e.createRole})),s=n.loading,r=n.error,c=n.success,i=Object(a.useState)(""),o=Object(D.a)(i,2),l=o[0],d=o[1];return c&&(t({title:"Notification",description:"Role added Successfully",status:"success",duration:9e3,isClosable:!0}),e({type:$})),r&&(t({title:"Error",description:r,status:"error",duration:9e3,isClosable:!0}),e({type:$})),Object(R.jsxs)("div",{className:"appContainer",children:[Object(R.jsx)(U,{}),Object(R.jsxs)("div",{className:"contentsRight",children:[Object(R.jsx)(H,{title:"Configurations"}),Object(R.jsx)(J,{menu:[{name:"Create Role",active:!0,url:"/app/config"},{name:"Add Users",url:"/app/config/users"}]}),Object(R.jsx)("div",{className:"pageContents",children:Object(R.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(de(l))},children:Object(R.jsxs)("div",{className:"nirsal__InputFlex",children:[Object(R.jsx)(G,{title:"Name",value:l,onChange:function(e){return d(e.target.value)},required:!0}),Object(R.jsx)(W,{title:"Add Role",Icon:Y.a,disabled:s,loading:s})]})})})]})]})},be=function(){var e=Object(j.b)(),t=Object(u.a)(),n=Object(j.c)((function(e){return e.getRole})),s=n.loading,r=n.error,c=n.success,i=n.roles,o=Object(a.useState)(""),l=Object(D.a)(o,2),d=l[0],p=l[1],b=Object(a.useState)(""),O=Object(D.a)(b,2),f=O[0],v=O[1];return c&&(t({title:"Notification",description:"Role added Successfully",status:"success",duration:9e3,isClosable:!0}),e({type:$})),r&&(t({title:"Error",description:r,status:"error",duration:9e3,isClosable:!0}),e({type:$})),Object(a.useEffect)((function(){e(je())}),[e]),Object(R.jsxs)("div",{className:"appContainer",children:[Object(R.jsx)(U,{}),Object(R.jsxs)("div",{className:"contentsRight",children:[Object(R.jsx)(H,{title:"Configurations"}),Object(R.jsx)(J,{menu:[{name:"Create Role",url:"/app/config"},{name:"Add Users",url:"/app/config/users"}]}),Object(R.jsx)("div",{className:"pageContents",children:Object(R.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(de(d))},children:Object(R.jsxs)("div",{className:"nirsal__InputFlex",children:[Object(R.jsx)(G,{title:"Name",value:d,onChange:function(e){return p(e.target.value)},required:!0}),Object(R.jsx)(V,{title:"Role",value:f,onChange:function(e){return v(e.target.value)},required:!0,data:i,filter:"title",filterValue:"_id"}),Object(R.jsx)(W,{title:"Add Role",Icon:Y.a,disabled:s,loading:s})]})})})]})]})},Oe="CREATE_USER_REQUEST",fe="CREATE_USER_SUCCESS",ve="CREATE_USER_FAIL",ge="CREATE_USER_RESET",he=function(){var e=Object(j.b)(),t=Object(u.a)(),n=Object(j.c)((function(e){return e.getRole})).roles,s=Object(j.c)((function(e){return e.createUser})),r=s.loading,c=s.error,i=s.success,o=Object(a.useState)(""),l=Object(D.a)(o,2),d=l[0],p=l[1],b=Object(a.useState)(""),v=Object(D.a)(b,2),h=v[0],x=v[1];return i&&(t({title:"Notification",description:"User added Successfully",status:"success",duration:9e3,isClosable:!0}),e({type:ge})),c&&(t({title:"Error",description:c,status:"error",duration:9e3,isClosable:!0}),e({type:ge})),Object(a.useEffect)((function(){e(je())}),[e]),Object(R.jsxs)("div",{className:"appContainer",children:[Object(R.jsx)(U,{}),Object(R.jsxs)("div",{className:"contentsRight",children:[Object(R.jsx)(H,{title:"Configurations"}),Object(R.jsx)(J,{menu:[{name:"Create Role",url:"/app/config"},{name:"Add Users",active:!0,url:"/app/config/users"}]}),Object(R.jsx)("div",{className:"pageContents",children:Object(R.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(n,a){var s,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Oe}),s={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},t.next=5,g.a.post("/api/v1/staff",{email:e},s);case 5:r=t.sent,c=r.data,n({type:fe,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:ve,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(d))},children:Object(R.jsxs)("div",{className:"nirsal__InputFlex",children:[Object(R.jsx)(G,{title:"Email",value:d,onChange:function(e){return p(e.target.value)},required:!0}),Object(R.jsx)(V,{title:"Role",value:h,onChange:function(e){return x(e.target.value)},required:!0,data:n,filter:"title",filterValue:"_id"}),Object(R.jsx)(W,{title:"Add User",Icon:Y.a,disabled:r,loading:r})]})})})]})]})};var xe=function(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(c.a,{children:Object(R.jsxs)(i.c,{children:[Object(R.jsx)(i.a,{path:"/",exact:!0,element:Object(R.jsx)(T,{})}),Object(R.jsx)(i.a,{path:"/app/dashboard",exact:!0,element:Object(R.jsx)(M,{})}),Object(R.jsx)(i.a,{path:"/app/config",exact:!0,element:Object(R.jsx)(pe,{})}),Object(R.jsx)(i.a,{path:"/app/config/subunit",exact:!0,element:Object(R.jsx)(be,{})}),Object(R.jsx)(i.a,{path:"/app/config/users",exact:!0,element:Object(R.jsx)(he,{})})]})})})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))},Ee=n(28),_e=n(35),ye=n(69),Se=n(68),Ce=Object(_e.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case x:return{loading:!1,success:!0,userInfo:t.payload};case m:return{loading:!1,error:t.payload};case E:return{};default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case y:return{loading:!1,success:!0,user:t.payload.data};case S:return{loading:!1,error:t.payload};case C:return{};default:return e}},createRole:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case X:return{loading:!1,success:!0};case Z:return{loading:!1,error:t.payload};case $:return{};default:return e}},getRole:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0};case te:return{loading:!1,success:!0,roles:t.payload.data};case ne:return{loading:!1,error:t.payload};default:return e}},updateRole:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case se:return{loading:!1,success:!0};case re:return{loading:!1,error:t.payload};case ce:return{};default:return e}},deleteRole:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case ue:return{};default:return e}},createUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case fe:return{loading:!1,success:!0};case ve:return{loading:!1,error:t.payload};case ge:return{};default:return e}}}),Re={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Te=[ye.a],Ne=Object(_e.createStore)(Ce,Re,Object(Se.composeWithDevTools)(_e.applyMiddleware.apply(void 0,Te)));r.a.render(Object(R.jsx)(j.a,{store:Ne,children:Object(R.jsx)(Ee.a,{children:Object(R.jsx)(xe,{})})}),document.getElementById("root")),me()},31:function(e,t,n){e.exports={navigation:"styles_navigation__3YjjW",logo:"styles_logo__ptAxM",name:"styles_name__2kv2n",links:"styles_links__LRKax"}},44:function(e,t,n){e.exports={pageTitle:"styles_pageTitle__wr_Nb",title:"styles_title__3katn",search:"styles_search__3zavA"}},45:function(e,t,n){e.exports={menubar:"styles_menubar__30nkH",menu:"styles_menu__14twJ",active:"styles_active__3jp7X"}},67:function(e,t,n){e.exports={card:"styles_card__1TYrp"}}},[[144,1,2]]]);
//# sourceMappingURL=main.5cd15d08.chunk.js.map